<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>MyCLabs\ACL</title>

        <link rel="stylesheet" href="http://myclabs.github.io/ACL/css/bootstrap.min.css">
        <link rel="stylesheet" href="http://myclabs.github.io/ACL/css/highlight.tomorrow-night.css">
        <link rel="stylesheet" href="http://myclabs.github.io/ACL/css/main.css">

        <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    </head>
    <body>
        <header class="navbar navbar-default navbar-fixed-top">
            <a class="navbar-brand" href="http://myclabs.github.io/ACL/">
                MyCLabs\ACL
                <small class="hidden-xs hidden-sm">
                    Powerful and efficient access control library for your PHP application.
                </small>
            </a>
            <a href="https://github.com/myclabs/ACL">
                <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png">
            </a>
        </header>

        <main>
            <div class="container-fluid">
                <div class="row">

                    <nav id="sidebar" class="col-sm-3 col-lg-2" role="navigation">

                        <p class="text-muted">
                            Main documentation
                        </p>

                        <ul class="nav nav-pills nav-stacked">
                            <li class="">
                                <a href="http://myclabs.github.io/ACL/">
                                    Introduction
                                </a>
                            </li>
                            <li class="">
                                <a href="http://myclabs.github.io/ACL/doc/setup.html">
                                    Setup
                                </a>
                            </li>
                            <li class="">
                                <a href="http://myclabs.github.io/ACL/doc/usage.html">
                                    Usage
                                </a>
                            </li>
                            <li class="">
                                <a href="http://myclabs.github.io/ACL/doc/filtering-queries.html">
                                    Filtering queries
                                </a>
                            </li>
                        </ul>

                        <p class="text-muted">
                            Advanced topics
                        </p>

                        <ul class="nav nav-pills nav-stacked">
                            <li class="">
                                <a href="http://myclabs.github.io/ACL/doc/actions.html">
                                    Actions
                                </a>
                            </li>
                            <li class="">
                                <a href="http://myclabs.github.io/ACL/doc/cascading.html">
                                    Authorization cascading
                                </a>
                            </li>
                            <li class="active">
                                <a href="http://myclabs.github.io/ACL/doc/performances.html">
                                    Performances
                                </a>
                            </li>
                        </ul>

                        <p>
                            <iframe class="github-star" src="http://ghbtns.com/github-btn.html?user=myclabs&repo=ACL&type=watch&count=true&size=large"
                                allowtransparency="true" frameborder="0" scrolling="0" width="170" height="30"></iframe>
                        </p>

                    </nav>

                    <section class="col-sm-offset-3 col-lg-offset-2 col-sm-9 col-lg-10">
                        <h1>Performances</h1>
<p>For better performances, you can follow the following advices:</p>
<ul>
<li>Cache calls to <code>isAllowed()</code>: every time you call that method, it will issue a query to the database.</li>
</ul>
<p>You shouldn't call <code>isAllowed()</code> a lot, if you do try instead to filter your queries using the ACL (see above),
this is much more efficient. However, if you do, you might want to cache the results of those calls in order
to avoid doing too many queries.</p>
<p>MyCLabs\ACL doesn't ship with a cache for now mainly because of cache invalidation when ACLs changes.
However this can change, you are free to add an issue about it.</p>
<p>Be aware that using a cache for this is not mandatory. If your application doesn't handle a lot of traffic
the ACL system will work just fine (the isAllowed query is very simple and optimized).</p>
<ul>
<li>Roles should be set as "Read Only" for Doctrine so that they are not tracked for changes uselessly</li>
</ul>
<p>This is minor, but why not.
This is not a hard requirement though, if your roles can change, you are free to ignore this.</p>
<p>Example with annotations:</p>
<pre><code class="language-php">/**
 * @Entity(readOnly=true)
 */
class ArticleEditorRole extends Role
{
}</code></pre>
<p>Or with YAML:</p>
<pre><code class="language-yaml">Namespace\ArticleEditorRole:
  type: entity
  readOnly: true</code></pre>
                    </section>

                </div>
            </div>
        </main>

        <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
        <script src="http://yandex.st/highlightjs/7.5/highlight.min.js"></script>

        <script>
            $(function() {
                $("section>h1").wrap('<div class="page-header" />');
                $("section>p:first-child").addClass('lead');
                hljs.initHighlightingOnLoad();
            });
        </script>
    </body>
</html>
